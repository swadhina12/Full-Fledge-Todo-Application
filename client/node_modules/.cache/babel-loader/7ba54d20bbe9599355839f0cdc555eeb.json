{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/swadh/OneDrive/Desktop/MERN-Stack-todo-website-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/swadh/OneDrive/Desktop/MERN-Stack-todo-website-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/swadh/OneDrive/Desktop/MERN-Stack-todo-website-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useNavigate}from'react-router-dom';import{Formik,Form,Field,ErrorMessage}from'formik';import{useImmer}from'use-immer';import image from'../assets/images/register/signup-image.jpg';import{regsiterSchema}from'../validation/registerValidation';import{register}from'../services/todosServices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var navigate=useNavigate();var _useImmer=useImmer({}),_useImmer2=_slicedToArray(_useImmer,2),user=_useImmer2[0],setUser=_useImmer2[1];var submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username,password){var result,token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setUser({username:username,password:password});_context.prev=1;_context.next=4;return register(username,password);case 4:result=_context.sent;if(result.status===200){token=result.headers['x-auth-token'];localStorage.setItem('token',token);navigate('/todos');}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0.response);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function submitForm(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Formik,{initialValues:{user:'',password:'',confirmPassword:''},validationSchema:regsiterSchema,onSubmit:function onSubmit(values){setUser({});submitForm(values.user,values.password);},children:/*#__PURE__*/_jsx(\"section\",{style:{marginTop:80},className:\"signup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signup-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form-title\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(Form,{className:\"register-form\",id:\"register-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user\",children:/*#__PURE__*/_jsx(\"i\",{className:\"zmdi zmdi-account material-icons-name\"})}),/*#__PURE__*/_jsx(Field,{id:\"user\",name:\"user\",type:\"text\",placeholder:\"user\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"user\",render:function render(msg){return/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:msg});}}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:/*#__PURE__*/_jsx(\"i\",{className:\"zmdi zmdi-lock\"})}),/*#__PURE__*/_jsx(Field,{id:\"password\",name:\"password\",type:\"password\",placeholder:\"Password\",required:true})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",render:function render(msg){return/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:msg});}}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:/*#__PURE__*/_jsx(\"i\",{className:\"zmdi zmdi-lock\"})}),/*#__PURE__*/_jsx(Field,{id:\"confirmPassword\",name:\"confirmPassword\",type:\"password\",placeholder:\"Re-Enter Password\",required:true})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"confirmPassword\",render:function render(msg){return/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:msg});}}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group form-button\",children:/*#__PURE__*/_jsx(Field,{type:\"submit\",name:\"signup\",id:\"signup\",className:\"form-submit\",value:\"Register\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signup-image\",children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"register\"})}),/*#__PURE__*/_jsx(Link,{to:'/login',className:\"signup-image-link\",children:\"I am already member\"})]})]})})})});};export default Register;","map":{"version":3,"names":["Link","useNavigate","Formik","Form","Field","ErrorMessage","useImmer","image","regsiterSchema","register","Register","navigate","user","setUser","submitForm","username","password","result","status","token","headers","localStorage","setItem","console","log","response","confirmPassword","values","marginTop","msg","color"],"sources":["C:/Users/swadh/OneDrive/Desktop/MERN-Stack-todo-website-master/client/src/components/Register.jsx"],"sourcesContent":["import {Link, useNavigate} from 'react-router-dom'\r\nimport {Formik,Form,Field,ErrorMessage} from 'formik'\r\nimport {useImmer} from 'use-immer'\r\n\r\nimport image from '../assets/images/register/signup-image.jpg'\r\nimport {regsiterSchema} from '../validation/registerValidation'\r\nimport { register } from '../services/todosServices'\r\n\r\nconst Register = () => {\r\n\r\n  const navigate=useNavigate()\r\n\r\n  const [user,setUser]= useImmer({})\r\n\r\n  const submitForm =async (username,password) => {\r\n    setUser({username,password})\r\n    try{\r\n      const result= await register(username,password)\r\n      if(result.status===200){\r\n        const token=result.headers['x-auth-token']\r\n        localStorage.setItem('token', token)\r\n        navigate('/todos')\r\n      }\r\n    }catch(e){\r\n      console.log(e.response);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Formik \r\n    initialValues={{\r\n      user:'',\r\n      password:'',\r\n      confirmPassword:''\r\n    }}\r\n    validationSchema={regsiterSchema}\r\n    onSubmit={(values)=>{\r\n      setUser({})\r\n      submitForm(values.user,values.password)\r\n    }}>\r\n    <section style={{ marginTop: 80}} className=\"signup\">\r\n      <div className=\"container\">\r\n        <div className=\"signup-content\">\r\n          <div className=\"signup-form\">\r\n            <h2 className=\"form-title\">Sign up</h2>\r\n            <Form className=\"register-form\" id=\"register-form\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"user\">\r\n                  <i className=\"zmdi zmdi-account material-icons-name\"></i>\r\n                </label>\r\n                <Field\r\n                id=\"user\"\r\n                name=\"user\"\r\n                type=\"text\"\r\n                placeholder=\"user\"/>\r\n              </div>\r\n              <ErrorMessage name='user' render={msg=> <div style={{color: 'red'}}>{msg}</div>}/>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"password\"><i className=\"zmdi zmdi-lock\"></i></label>\r\n                <Field\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  required\r\n                />\r\n              </div>\r\n                <ErrorMessage name='password' render={msg=> <div style={{color: 'red'}}>{msg}</div>}/>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"confirmPassword\"><i className=\"zmdi zmdi-lock\"></i></label>\r\n                <Field\r\n                  id=\"confirmPassword\"\r\n                  name=\"confirmPassword\"\r\n                  type=\"password\"\r\n                  placeholder=\"Re-Enter Password\"\r\n                  required\r\n                />\r\n              </div>\r\n                <ErrorMessage name='confirmPassword' render={msg=> <div style={{color: 'red'}}>{msg}</div>}/>\r\n              <div className=\"form-group form-button\">\r\n                <Field\r\n                  type=\"submit\"\r\n                  name=\"signup\"\r\n                  id=\"signup\"\r\n                  className=\"form-submit\"\r\n                  value=\"Register\"\r\n                />\r\n              </div>\r\n            </Form>\r\n          </div>\r\n          <div className=\"signup-image\">\r\n            <figure>\r\n              <img src={image} alt='register'/>\r\n            </figure>\r\n            <Link\r\n            to={'/login'}\r\n              className=\"signup-image-link\">\r\n              I am already member\r\n              </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    </Formik>\r\n  )\r\n}\r\n\r\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module"}