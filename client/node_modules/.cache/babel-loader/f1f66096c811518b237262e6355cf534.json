{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/swadh/OneDrive/Desktop/MERN-Stack-todo-website-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/swadh/OneDrive/Desktop/MERN-Stack-todo-website-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Link,useNavigate}from'react-router-dom';import{Formik,Form,Field,ErrorMessage}from'formik';import{loginSchema}from'../validation/registerValidation';import image from'../assets/images/register/signin-image.jpg';import{login}from'../services/todosServices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var formSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var user,password,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:user=_ref.user,password=_ref.password;_context.prev=1;_context.next=4;return login(user,password);case 4:result=_context.sent;console.log(result);if(result.status===200){localStorage.setItem('token',result.headers['x-auth-token']);navigate('/todos');}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0.response.data);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function formSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Formik,{initialValues:{user:'',password:''},validationSchema:loginSchema,onSubmit:function onSubmit(values){formSubmit(values);},children:/*#__PURE__*/_jsx(\"section\",{style:{marginTop:80},className:\"sign-in\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signin-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signin-image\",children:[/*#__PURE__*/_jsx(\"figure\",{children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"login\"})}),/*#__PURE__*/_jsx(Link,{to:'/register',className:\"signup-image-link\",children:\"Create an account\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signin-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form-title\",children:\"login\"}),/*#__PURE__*/_jsxs(Form,{className:\"register-form\",id:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user\",children:/*#__PURE__*/_jsx(\"i\",{className:\"zmdi zmdi-account material-icons-name\"})}),/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"user\",id:\"user\",placeholder:\"Username\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"user\",render:function render(msg){return/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:msg});}}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"your_pass\",children:/*#__PURE__*/_jsx(\"i\",{className:\"zmdi zmdi-lock\"})}),/*#__PURE__*/_jsx(Field,{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",render:function render(msg){return/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:msg});}}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group form-button\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"signin\",id:\"signin\",className:\"form-submit\",value:\"Log in\"})})]})]})]})})})});};export default Login;","map":{"version":3,"names":["Link","useNavigate","Formik","Form","Field","ErrorMessage","loginSchema","image","login","Login","navigate","formSubmit","user","password","result","console","log","status","localStorage","setItem","headers","response","data","values","marginTop","msg","color"],"sources":["C:/Users/swadh/OneDrive/Desktop/MERN-Stack-todo-website-master/client/src/components/Login.jsx"],"sourcesContent":["import {Link, useNavigate} from 'react-router-dom'\r\nimport {Formik,Form,Field,ErrorMessage} from 'formik'\r\n\r\nimport {loginSchema} from '../validation/registerValidation'\r\nimport image from '../assets/images/register/signin-image.jpg'\r\nimport { login } from '../services/todosServices'\r\nconst Login=()=>{\r\n\r\n  const navigate=useNavigate()\r\n\r\n  const formSubmit=async({user,password})=>{\r\n    try{\r\n      const result=await login(user,password)\r\n      console.log(result);\r\n      if(result.status===200) {\r\n        localStorage.setItem('token',result.headers['x-auth-token'])\r\n        navigate('/todos')\r\n      }\r\n    }catch(e){\r\n      console.log(e.response.data);\r\n    }\r\n  }\r\n\r\n    return(\r\n      <Formik \r\n      initialValues={{\r\n        user:'',\r\n        password:''\r\n      }}\r\n      validationSchema={loginSchema}\r\n      onSubmit={(values)=>{\r\n        formSubmit(values)\r\n      }}\r\n      >\r\n    <section style={{marginTop:80}} className=\"sign-in\">\r\n        <div className=\"container\">\r\n          <div className=\"signin-content\">\r\n            <div className=\"signin-image\">\r\n              <figure>\r\n                <img src={image} alt=\"login\" />\r\n              </figure>\r\n              <Link\r\n                to={'/register'}\r\n                className=\"signup-image-link\">\r\n                Create an account\r\n                </Link>\r\n            </div>\r\n\r\n            <div className=\"signin-form\">\r\n              <h2 className=\"form-title\">login</h2>\r\n              <Form className=\"register-form\" id=\"login-form\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"user\">\r\n                    <i className=\"zmdi zmdi-account material-icons-name\"></i>\r\n                    </label>\r\n                  <Field\r\n                    type=\"text\"\r\n                    name=\"user\"\r\n                    id=\"user\"\r\n                    placeholder=\"Username\"\r\n                  />\r\n                </div>\r\n                  <ErrorMessage name=\"user\" render={msg=> <div style={{color:'red'}}>{msg}</div>}/>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"your_pass\"><i className=\"zmdi zmdi-lock\"></i></label>\r\n                  <Field\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    id=\"password\"\r\n                    placeholder=\"Password\"\r\n                  />\r\n                </div>\r\n                  <ErrorMessage name=\"password\" render={msg=> <div style={{color:'red'}}>{msg}</div>}/>\r\n                <div className=\"form-group form-button\">\r\n                  <input\r\n                    type=\"submit\"\r\n                    name=\"signin\"\r\n                    id=\"signin\"\r\n                    className=\"form-submit\"\r\n                    value=\"Log in\"\r\n                  />\r\n                </div>\r\n              </Form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      </Formik>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}